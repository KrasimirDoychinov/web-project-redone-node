<% if (data.threads.length == 0) { %>
<div class="no-threads">
	<h2>
		There are currently no <span class="purple"><%= data.baseThread.title %></span> threads.
	</h2>
	<a class="purple-btn new-thread-btn">Create new thread</a>
</divc>
<% } else { %>
  <div class="thread-container">
    <div class="base-thread">
      <div class="base-thread-heading">
        <img src="<%= data.baseThread.imageUrl %> ">
        <h1><%= data.baseThread.title %></h1>
      </div>
      <div class="base-thread-desc">
        <p><%= data.baseThread.description %> </p>
      </div>
    </div> 
    <div class="table">
      <table>
        <thead>
          <tr>
            <th id="title-th">Title</th>
            <th>Description</th>
            <th>Replies</th>
          </tr>
        </thead>
        <tbody>
          <% data.threads.forEach(thread => { %>
            <tr>
              <td class="clickable-td"><a href="/thread/<%= thread.id %>"><%= thread.title %> <span class="thread-date"><%= thread.createdOn.toLocaleString() %></span></a></td>
              <td><%= thread.description %></td>
            </tr> 
          </div>
          <% }) %>
        </tbody>
      </table>
      <a  class="purple-btn new-thread-btn">Create new thread</a>
    </div> 
  </div>
  <% } %>
  <% if (data.generalErrMsg) { %>
    <p class="error"><%= data.generalErrMsg %></p>
   <% } %>
  <form class="thread-create" action="/thread/create"  method="post">
    <div class="thread-create-data">
      <label for="title">TITLE</label>
      <input type="text" name="title" />
    </div>
    <div class="thread-create-data">
      <label for="description">DESCRIPTION</label>
      <textarea
        type="text"
        name="description"
        rows="15"
    ></textarea>
    </div>
    <input type="text" hidden name="baseId" value="<%= data.baseThread.id %>" />
    <button type="submit" class="purple-btn">Create</button>
  </form>
